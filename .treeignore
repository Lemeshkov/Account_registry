# –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ –ø–∞–ø–∫–∏
node_modules/
dist/
build/
.coverage/
.vscode/
.git/

# –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã
*.log
*.tmp
*.cache
.DS_Store
Thumbs.db

# –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∫—Ä–æ–º–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
# !*.js
# !*.py
# !*.json

# –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ –ø–∞–ø–∫–∏
$excludeFolders = @('node_modules', 'dist', 'build', '.coverage', '.vscode', '.git')

# –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é
$excludeFiles = @('*.log', '*.tmp', '*.cache', '.DS_Store', 'Thumbs.db')

function Get-TreeItem {
    param(
        [string]$Path = ".",
        [int]$Level = 0,
        [string]$Prefix = ""
    )
    
    # –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã —Å —É—á–µ—Ç–æ–º —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
    $items = Get-ChildItem -Path $Path -Force -ErrorAction SilentlyContinue | 
             Where-Object { 
                 $isFolder = $_.PSIsContainer
                 $name = $_.Name
                 
                 # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º —Ç–µ–∫—É—â—É—é –∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
                 if ($name -in @('.', '..')) {
                     return $false
                 }
                 
                 # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–∫—Ä—ã—Ç—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å —Ç–æ—á–∫–∏
                 if ($name -match '^\.') {
                     return $false
                 }
                 
                 # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–∞–ø–æ–∫
                 if ($isFolder -and $name -in $excludeFolders) {
                     return $false
                 }
                 
                 # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é
                 if (-not $isFolder) {
                     foreach ($pattern in $excludeFiles) {
                         if ($pattern.StartsWith('*.')) {
                             $ext = $pattern.TrimStart('*')
                             if ($name -like "*$ext") {
                                 return $false
                             }
                         } elseif ($name -eq $pattern) {
                             return $false
                         }
                     }
                 }
                 
                 return $true
             } | Sort-Object PSIsContainer -Descending
    
    $itemCount = $items.Count
    $currentIndex = 0
    
    foreach ($item in $items) {
        $currentIndex++
        $isLast = $currentIndex -eq $itemCount
        
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–∏–º–≤–æ–ª—ã –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –¥–µ—Ä–µ–≤–∞
        if ($Level -eq 0) {
            if ($isLast) {
                $connector = "‚îî‚îÄ‚îÄ "
                $nextPrefix = "    "
            } else {
                $connector = "‚îú‚îÄ‚îÄ "
                $nextPrefix = "‚îÇ   "
            }
        } else {
            if ($isLast) {
                $connector = "‚îî‚îÄ‚îÄ "
                $newPref = "    "
            } else {
                $connector = "‚îú‚îÄ‚îÄ "
                $newPref = "‚îÇ   "
            }
            $nextPrefix = $Prefix + $newPref
        }
        
        # –í—ã–±–∏—Ä–∞–µ–º –∏–∫–æ–Ω–∫—É
        $icon = if ($item.PSIsContainer) { "üìÅ " } else { "üìÑ " }
        
        # –í—ã–≤–æ–¥–∏–º —Ç–µ–∫—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç
        Write-Host "$Prefix$connector$icon$($item.Name)"
        
        # –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø–∞–ø–∫–∏ (–¥–æ 3 —É—Ä–æ–≤–Ω—è)
        if ($item.PSIsContainer -and $Level -lt 2) {
            Get-TreeItem -Path $item.FullName -Level ($Level + 1) -Prefix ($Prefix + $nextPrefix)
        }
    }
}

# –ó–∞–ø—É—Å–∫–∞–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞
Get-TreeItem -Path "."